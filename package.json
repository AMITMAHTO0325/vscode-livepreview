{
	"name": "live-server",
	"displayName": "Live Preview",
	"description": "Hosts a local server in your workspace for you to preview your webpages.",
	"version": "0.1.9",
	"preview": true,
	"aiKey": "AIF-d9b70cd4-b9f9-4d70-929b-a071c400b217",
	"publisher": "ms-vscode",
	"icon": "icon.png",
	"repository": {
		"type": "git",
		"url": "https://github.com/microsoft/vscode-livepreview"
	},
	"capabilities": {
		"virtualWorkspaces": false,
		"untrustedWorkspaces": {
			"supported": false,
			"description": "Live Preview runs a server to host workspace files."
		}
	},
	"engines": {
		"vscode": "^1.56.0"
	},
	"bugs": {
		"url": "https://github.com/microsoft/vscode-liveserver/issues"
	},
	"categories": [
		"Other"
	],
	"activationEvents": [
		"workspaceContains:**/*.html",
		"onWebviewPanel:browserPreview",
		"onCommand:LivePreview.start.preview.atIndex",
		"onCommand:LivePreview.start.preview.atFile",
		"onCommand:LivePreview.start.externalPreview.atIndex",
		"onCommand:LivePreview.start.internalPreview.atIndex",
		"onCommand:LivePreview.start.externalPreview.atFile",
		"onCommand:LivePreview.start.internalPreview.atFile",
		"onCommand:LivePreview.end"
	],
	"main": "./out/extension.js",
	"contributes": {
		"commands": [
			{
				"command": "LivePreview.config.selectWorkspace",
				"title": "Live Preview: Select Default Workspace for Server"
			},
			{
				"command": "LivePreview.start.preview.atIndex",
				"title": "Live Preview: Show Preview at Index Page"
			},
			{
				"command": "LivePreview.start.preview.atFile",
				"title": "Live Preview: Show Preview",
				"icon": "$(open-preview)"
			},
			{
				"command": "LivePreview.start.externalPreview.atIndex",
				"title": "Live Preview: Show Preview at Index (External Browser)"
			},
			{
				"command": "LivePreview.start.internalPreview.atIndex",
				"title": "Live Preview: Show Preview at Index (Internal Browser)"
			},
			{
				"command": "LivePreview.start.externalPreview.atFile",
				"title": "Live Preview: Show Preview (External Browser)"
			},
			{
				"command": "LivePreview.start.internalPreview.atFile",
				"title": "Live Preview: Show Preview (Internal Browser)"
			},
			{
				"command": "LivePreview.end",
				"title": "Live Preview: Stop Server"
			}
		],
		"menus": {
			"editor/title": [
				{
					"command": "LivePreview.start.preview.atFile",
					"when": "editorLangId == html && !notebookEditorFocused",
					"group": "navigation"
				}
			],
			"explorer/context": [
				{
					"command": "LivePreview.start.preview.atFile",
					"when": "resourceLangId == html",
					"group": "1_livepreview"
				}
			],
			"editor/context": [
				{
					"command": "LivePreview.start.preview.atFile",
					"when": "resourceLangId == html",
					"group": "1_livepreview"
				}
			],
			"commandPalette": [
				{
					"command": "LivePreview.start.preview.atFile",
					"when": "false"
				},
				{
					"command": "LivePreview.start.preview.atIndex",
					"when": "false"
				},
				{
					"command": "LivePreview.start.externalPreview.atIndex",
					"when": "false"
				},
				{
					"command": "LivePreview.start.internalPreview.atIndex",
					"when": "false"
				},
				{
					"command": "LivePreview.config.selectWorkspace",
					"when": "workspaceFolderCount > 1",
					"group": "1_livepreview"
				},
				{
					"command": "LivePreview.start.internalPreview.atFile",
					"when": "editorLangId == html && !notebookEditorFocused",
					"group": "1_livepreview"
				},
				{
					"command": "LivePreview.start.externalPreview.atFile",
					"when": "editorLangId == html && !notebookEditorFocused",
					"group": "1_livepreview"
				},
				{
					"command": "LivePreview.end",
					"when": "LivePreviewServerOn",
					"group": "1_livepreview"
				}
			]
		},
		"configuration": {
			"title": "Live Preview",
			"properties": {
				"LivePreview.portNumber": {
					"type": "number",
					"default": 3000,
					"minimum": 0,
					"maximum": 65535,
					"description": "Which local port the live preview's server should try initially. If this port number doesn't work, it will increment the port number until it finds a free port."
				},
				"LivePreview.serverKeepAliveAfterEmbeddedPreviewClose": {
					"type": "number",
					"default": 3,
					"minimum": 0,
					"maximum": 20,
					"description": "How many minutes after closing the embedded preview you want the server to shut off. Set to 0 to have server stay on indefinetely."
				},
				"LivePreview.showStatusBarItem": {
					"type": "boolean",
					"default": true,
					"description": "Whether to show the current hosting port when server is open on the status bar."
				},
				"LivePreview.showServerStatusNotifications": {
					"type": "boolean",
					"default": false,
					"description": "Whether or not to show information messages on server on/off status change."
				},
				"LivePreview.autoRefreshPreview": {
					"enum": [
						"On All Changes in Editor",
						"On Changes to Saved Files",
						"Never"
					],
					"default": "On All Changes in Editor",
					"description": "How often to automatically refresh the preview."
				},
				"LivePreview.openPreviewTarget": {
					"enum": [
						"Embedded Preview",
						"External Browser"
					],
					"default": "Embedded Preview",
					"description": "Preferred target for previews."
				},
				"LivePreview.browserPreviewLaunchServerLogging": {
					"type": "boolean",
					"default": true,
					"description": "Whether the auto-generated task terminal has logging after running \"Show Preview in External Browser\"."
				},
				"LivePreview.notifyOnOpenLooseFile": {
					"type": "boolean",
					"default": true,
					"description": "Whether to notify the user when opening a preview for a file that is not part of the currently opened workspace (or the workspace where the server is hosted)."
				},
				"LivePreview.serverWorkspace": {
					"type": "string",
					"scope": "resource",
					"default": "",
					"description": "For multi-root workspaces: which workspace path should be used as the server root. Leave blank to use first workspace."
				},
				"LivePreview.showWarningOnMultiRootOpen": {
					"type": "boolean",
					"default": true,
					"description": "Whether or not to warn the user upon opening a multi-root preview with an undefined default server workspace."
				},
				"LivePreview.runTaskWithExternalPreview": {
					"type": "boolean",
					"default": true,
					"description": "Whether or not to pair external preview instances with the Live Preview task. When disabled, the embedded preview closing will not cause the server to close to prevent suddent server disconnection."
				}
			}
		},
		"taskDefinitions": [
			{
				"type": "Live Preview",
				"required": [
					"args"
				],
				"properties": {
					"args": {
						"type": "array",
						"description": "Whether to show incoming server messages and status codes."
					}
				}
			}
		]
	},
	"scripts": {
		"vscode:prepublish": "webpack --mode production",
		"webpack": "webpack --mode development",
		"webpack-dev": "webpack --mode development --watch",
		"build-preview": "npx webpack-cli --mode development",
		"compile": "node codicon_copy.js && tsc -p ./",
		"watch": "node codicon_copy.js && tsc -watch -p ./",
		"format": "prettier ./src/**/*.ts --write"
	},
	"devDependencies": {
		"@types/mime": "^2.0.3",
		"@types/node": "^12.12.0",
		"@types/vscode": "^1.32.0",
		"@types/ws": "^7.4.4",
		"@typescript-eslint/eslint-plugin": "^4.16.0",
		"@typescript-eslint/parser": "^4.16.0",
		"esbuild": "^0.12.5",
		"eslint": "^7.27.0",
		"ts-loader": "^9.2.2",
		"typescript": "^4.2.2",
		"webpack": "^5.38.1",
		"webpack-cli": "^4.7.0"
	},
	"dependencies": {
		"clean-webpack-plugin": "^4.0.0-alpha.0",
		"copy-webpack-plugin": "^9.0.0",
		"mime": "^2.5.2",
		"prettier-eslint": "^12.0.0",
		"prettier-eslint-cli": "^5.0.1",
		"url": "^0.11.0",
		"vsce": "^1.95.0",
		"vscode-codicons": "0.0.17",
		"vscode-extension-telemetry": "^0.1.7",
		"ws": "^7.4.6"
	}
}
